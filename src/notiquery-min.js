(function(c){var d={parent:null,height:50,width:300,visibleTime:5000,locationVType:"top",locationHType:"right",locationVBase:10,locationHBase:10,notificationsMargin:5,opacityTransitionTime:500,closeRelocationTransitionTime:500,scrollRelocationTransitionTime:500,scrollEffectTimeout:100,notificationOpacity:0.95};var b={};var e=[];var a=function(h){var f={init:function(i){var j=!b.visibleTime;b=c.extend({},d,i);if(!b.parent){b.parent=c("body").last()}c.each(e,function(k){this.parent(".notiquery_wrapper").remove()});e=[];if(j){c(window).scroll(function(){clearTimeout(b.scrollTimeout);b.scrollTimeout=setTimeout(g.scrollEventHandler,b.scrollEffectTimeout)})}},show:function(i){if(!b.visibleTime){f.init(i)}var j=g.createNotiEl();g.configureEl(j,i);g.show(j,i)}};var g={createNotiEl:function(){var i=c("<div class='notiquery'><span class='title'></span><div class='message'></div></div>");i.css({width:b.width});i.css(b.locationVType,b.locationVBase);i.css(b.locationHType,b.locationHBase);c.data(i,"id",c.now());i.click(function(k){k.preventDefault();k.stopPropagation();g.hide(i)});var j=c("<div class='notiquery_wrapper'></div>");(b.parent||c("body").last()).append(j);j.hide();j.append(i);e.push(i);return i},configureEl:function(j,i){j.find(".title").text(i.title);j.find(".message").text(i.message);j.addClass(i.customClass);if(i.width){j.css("width",i.width)}j.find("a").click(function(k){k.stopPropagation()})},show:function(m,j){var l=b;if((e.length-1)>0){var i=e[e.length-2];var k=parseInt(i.css(l.locationVType),10)+i.outerHeight()+l.notificationsMargin;m.css(l.locationVType,k)}else{m.css(l.locationVType,((l.locationVType=="top")?"+":"-")+"="+l.parent.scrollTop())}m.parent(".notiquery_wrapper").fadeIn(l.opacityTransitionTime,function(){m.css("height",m.height());if(l.onShow){l.onShow(newEl)}if(!j.sticky){setTimeout(function(){g.hide(m)},j.visibleTime||l.visibleTime)}})},hide:function(i){var j=i.outerHeight()+b.notificationsMargin;i.parent(".notiquery_wrapper").fadeOut(b.opacityTransitionTime,function(){var k={};var l=g.notificationIndex(i);e.splice(l,1);i.parent(".notiquery_wrapper").remove();if(b.onClose){b.onClose()}if(e.length>0){c.each(e.slice(l),function(m){k[b.locationVType]="-="+j;this.animate(k,b.closeRelocationTransitionTime)})}})},notificationIndex:function(j){var i=-1;var k=c.data(j,"id");c.each(e,function(l){if(k==c.data(this,"id")){i=l;return}});return i},scrollEventHandler:function(){var k=b;var i=k.locationVBase;if(k.locationVType=="top"){i+=k.parent.scrollTop()}else{i-=k.parent.scrollTop()}var j={};c.each(e,function(l,m){j[k.locationVType]=i;this.animate(j,k.scrollRelocationTransitionTime);i+=m.outerHeight()+k.notificationsMargin})}};if(f[h]){return f[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return f.init.apply(this,arguments)}else{c.error('Method "'+h+'" does not exist in notiquery plugin!')}}};c.extend({notiquery:a})})(jQuery);